"use strict";(self.webpackChunkgnosys=self.webpackChunkgnosys||[]).push([[894],{894:(Oe,$,i)=>{i.r($),i.d($,{LandingModule:()=>Ue,routes:()=>Q});var K=i(2057),g=i(2994),a=i(1422),C=i(7172),_=i(8847),n=i(1902);let ee=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=n.Xpm({type:r,selectors:[["ng-component"]],decls:6,vars:0,consts:[["src","/assets/icons/owl.svg"],[1,"flex","flex-row","justify-around","mt-2"],["routerLink","signup",1,"cursor-pointer","font-semibold","text-gray-500"],["routerLink","signin",1,"cursor-pointer","font-semibold","text-gray-500"]],template:function(t,s){1&t&&(n._UZ(0,"img",0),n.TgZ(1,"div",1),n.TgZ(2,"span",2),n._uU(3,"Sign Up"),n.qZA(),n.TgZ(4,"span",3),n._uU(5,"Sign In"),n.qZA(),n.qZA())},directives:[g.rH],styles:[""]}),r})(),te=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=n.Xpm({type:r,selectors:[["ng-component"]],decls:4,vars:0,consts:[[1,"flex","flex-row","w-auto","p-3","items-center","bg-indigo-500","justify-between"],["src","/assets/icons/owl.svg","routerLink","",1,"w-10","h-10","cursor-pointer"],[1,"ml-2","font-semibold","text-lg"]],template:function(t,s){1&t&&(n.TgZ(0,"div",0),n._UZ(1,"img",1),n.TgZ(2,"span",2),n._uU(3,"Welcome to gnosys"),n.qZA(),n.qZA())},directives:[g.rH],styles:[""]}),r})();var U=i(4762),V=i(1860),S=i(3072),E=i(4945),l=i(9359),v=i(97),y=i(7969),c=i(2147);function w(r){return(0,V.T)((0,S.P)(()=>(0,E.of)(r.getRawValue())),r.valueChanges.pipe((0,y.U)(()=>r.getRawValue())))}function u(r,e){return(0,V.T)((0,S.P)(()=>(0,E.of)(r[e])),r.statusChanges.pipe((0,y.U)(()=>r[e]),(0,c.x)()))}function b(r,e,t){e?r.enable(t):r.disable(t)}function A(r,e,t){b(r,!e,t)}function x(r,e,t){return e.subscribe(s=>A(r,s,t))}function T(r,e,t){return e.subscribe(s=>b(r,s,t))}function F(r,e){return r||e?Object.assign(Object.assign({},r),e):null}function D(r,e){if(!r)return null;const t=Object.assign({},r);return delete t[e],Object.keys(t).length>0?t:null}function p(r,e,t,s){return e.hasError(t,s&&0!==s.length?s:void 0)&&e[r]}function k(r,e){return(0,V.T)((0,S.P)(()=>(0,E.of)(r.errors)),e,r.valueChanges.pipe((0,y.U)(()=>r.errors),(0,c.x)((t,s)=>JSON.stringify(t)===JSON.stringify(s))))}class O extends a.cw{constructor(e,t,s){super(e,t,s),this.controls=e,this.touchChanges=new l.x,this.dirtyChanges=new l.x,this.errorsSubject=new l.x,this.touch$=this.touchChanges.asObservable().pipe((0,c.x)()),this.dirty$=this.dirtyChanges.asObservable().pipe((0,c.x)()),this.value$=w(this),this.disabled$=u(this,"disabled"),this.enabled$=u(this,"enabled"),this.status$=u(this,"status"),this.errors$=k(this,this.errorsSubject.asObservable())}select(e){return function(r,e){return r.value$.pipe((0,y.U)(e),(0,c.x)())}(this,e)}get(e){return super.get(e)}setValue(e,t){if((0,v.b)(e))return e.subscribe(s=>super.setValue(s,t));super.setValue(e,t)}patchValue(e,t){if((0,v.b)(e))return e.subscribe(s=>super.patchValue(s,t));super.patchValue(e,t)}getRawValue(){return super.getRawValue()}markAsTouched(...e){super.markAsTouched(...e),this.touchChanges.next(!0)}markAsUntouched(...e){super.markAsUntouched(...e),this.touchChanges.next(!1)}markAsPristine(...e){super.markAsPristine(...e),this.dirtyChanges.next(!1)}markAsDirty(...e){super.markAsDirty(...e),this.dirtyChanges.next(!0)}markAllAsDirty(){var r;(r=this).markAsDirty({onlySelf:!0}),r._forEachChild(e=>{var t;return null===(t=e.markAllAsDirty)||void 0===t?void 0:t.call(e)})}setEnable(e=!0,t){b(this,e,t)}setDisable(e=!0,t){A(this,e,t)}disabledWhile(e,t){return x(this,e,t)}enabledWhile(e,t){return T(this,e,t)}reset(e,t){super.reset(e,t)}setValidators(e,t){super.setValidators(e),super.updateValueAndValidity(t)}setAsyncValidators(e,t){super.setAsyncValidators(e),super.updateValueAndValidity(t)}getError(...e){return super.getError(...e)}setErrors(...e){var t;return null===(t=this.errorsSubject)||void 0===t||t.next(e[0]),super.setErrors(...e)}mergeErrors(e,t){this.setErrors(F(this.errors,e),t)}removeError(e,t){this.setErrors(D(this.errors,e),t)}hasErrorAndTouched(e,t){return p("touched",this,e,t)}hasErrorAndDirty(e,t){return p("dirty",this,e,t)}}class d extends a.NI{constructor(e,t,s){super(e,t,s),this.touchChanges=new l.x,this.dirtyChanges=new l.x,this.errorsSubject=new l.x,this.touch$=this.touchChanges.asObservable().pipe((0,c.x)()),this.dirty$=this.dirtyChanges.asObservable().pipe((0,c.x)()),this.value$=w(this),this.disabled$=u(this,"disabled"),this.enabled$=u(this,"enabled"),this.status$=u(this,"status"),this.errors$=k(this,this.errorsSubject.asObservable())}setValue(e,t){if((0,v.b)(e))return e.subscribe(s=>super.setValue(s,t));super.setValue(e,t)}patchValue(e,t){if((0,v.b)(e))return e.subscribe(s=>super.patchValue(s,t));super.patchValue(e,t)}getRawValue(){return this.value}markAsTouched(...e){super.markAsTouched(...e),this.touchChanges.next(!0)}markAsUntouched(...e){super.markAsUntouched(...e),this.touchChanges.next(!1)}markAsPristine(...e){super.markAsPristine(...e),this.dirtyChanges.next(!1)}markAsDirty(...e){super.markAsDirty(...e),this.dirtyChanges.next(!0)}setEnable(e=!0,t){b(this,e,t)}setDisable(e=!0,t){A(this,e,t)}disabledWhile(e,t){return x(this,e,t)}enabledWhile(e,t){return T(this,e,t)}reset(e,t){super.reset(e,t)}setValidators(e,t){super.setValidators(e),super.updateValueAndValidity(t)}setAsyncValidators(e,t){super.setAsyncValidators(e),super.updateValueAndValidity(t)}getError(...e){return super.getError(...e)}setErrors(...e){var t;return null===(t=this.errorsSubject)||void 0===t||t.next(e[0]),super.setErrors(...e)}mergeErrors(e,t){this.setErrors(F(this.errors,e),t)}removeError(e,t){this.setErrors(D(this.errors,e),t)}hasErrorAndTouched(e){return p("touched",this,e)}hasErrorAndDirty(e){return p("dirty",this,e)}}var fe=i(9593),ge=i(3528);const ye=n.GuJ,ve=Symbol("__destroy"),M=Symbol("__decoratorApplied");function W(r){return"string"==typeof r?Symbol(`__destroy__${r}`):ve}function N(r,e){r[e]||(r[e]=new l.x)}function R(r,e){r[e]&&(r[e].next(),r[e].complete(),r[e]=null)}function X(r){r instanceof fe.w0&&r.unsubscribe()}function Y(r,e){return function(){var t;if(r&&r.call(this),R(this,W()),e.arrayName)return function(r){Array.isArray(r)&&r.forEach(X)}(this[e.arrayName]);if(e.checkProperties)for(const s in this)(null===(t=e.blackList)||void 0===t?void 0:t.includes(s))||X(this[s])}}var Te=i(5696),Fe=i(8497);let z=(()=>{class r{constructor(t,s){this.http=t,this.router=s}signup(t){this.http.post("/api/user",t).subscribe(s=>{console.log(s),this.router.navigate(["signin"])})}}return r.\u0275fac=function(t){return new(t||r)(n.LFG(Fe.eN),n.LFG(g.F0))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var H=i(4147);let h=class{constructor(e){this.service=e,this.form=new O({email:new d("",[a.kI.email,a.kI.required]),firstName:new d("",a.kI.required),lastName:new d("",a.kI.required),password:new d("",[a.kI.required,a.kI.minLength(8)]),confirmPassword:new d("",a.kI.required)})}ngOnInit(){var r,e;(0,Te.a)([this.form.select(e=>e.password),this.form.select(e=>e.confirmPassword)]).pipe((0,y.U)(([e,t])=>(e!==t&&this.form.get("confirmPassword").setErrors({mustMatch:!0}),e===t?null:{mustMatch:!0}))).pipe((r=this,t=>{const s=W(e);return"string"==typeof e?function(r,e,t){const s=r[e];N(r,t),r[e]=function(){s.apply(this,arguments),R(this,t),r[e]=s}}(r,e,s):N(r,s),t.pipe((0,ge.R)(r[s]))})).subscribe(e=>{e?this.form.get("password").mergeErrors(e):this.form.get("password").removeError("mustMatch")})}onSubmit(){this.form.valid&&this.service.signup({email:this.form.value.email,password:this.form.value.password,givenName:this.form.value.firstName,familyName:this.form.value.lastName})}};h.\u0275fac=function(e){return new(e||h)(n.Y36(z))},h.\u0275cmp=n.Xpm({type:h,selectors:[["ng-component"]],decls:9,vars:4,consts:[[1,"space-y-3"],[1,"font-semibold","text-center","mb-3"],[3,"formGroup"],[1,"flex","flex-row","items-center","justify-around","text-sm"],["routerLink","",1,"text-indigo-700","bg-indigo-100","p-2"],[3,"click"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"p",1),n._uU(2,"Sign Up to gnosys"),n.qZA(),n._UZ(3,"ui-form-simple-top-down",2),n.TgZ(4,"div",3),n.TgZ(5,"button",4),n._uU(6," Cancel "),n.qZA(),n.TgZ(7,"button",5),n.NdJ("click",function(){return t.onSubmit()}),n._uU(8," Submit "),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(3),n.Q6J("formGroup",t.form),n.xp6(4),n.Gre("bg-indigo-600 text-white p-2 ",t.form.valid?"cursor-pointer":"cursor-not-allowed",""))},directives:[H.t,a.JL,a.sg,g.rH],styles:[""]}),h=(0,U.gn)([function(r={}){return e=>{!function(r){return!!r[ye]}(e)?function(r,e){r.prototype.ngOnDestroy=Y(r.prototype.ngOnDestroy,e)}(e,r):function(r,e){const t=r.\u0275pipe;t.onDestroy=Y(t.onDestroy,e)}(e,r),function(r){r.prototype[M]=!0}(e)}}(),(0,U.w6)("design:paramtypes",[z])],h);var I=i(7883);let De=(()=>{class r{constructor(t){this.actions=t,this.form=new O({email:new d("",[a.kI.email,a.kI.required]),password:new d("",a.kI.required)})}onSignIn(){this.actions.dispatch((0,I.hJ)({user:this.form.value}))}}return r.\u0275fac=function(t){return new(t||r)(n.Y36(C.eX))},r.\u0275cmp=n.Xpm({type:r,selectors:[["ng-component"]],decls:7,vars:4,consts:[[1,"space-y-3"],[1,"font-semibold","text-center","mb-3"],[3,"formGroup"],[1,"flex","flex-row","items-center","justify-end","text-sm"],[3,"click"]],template:function(t,s){1&t&&(n.TgZ(0,"div",0),n.TgZ(1,"p",1),n._uU(2,"Sign In to gnosys"),n.qZA(),n._UZ(3,"ui-form-simple-top-down",2),n.TgZ(4,"div",3),n.TgZ(5,"button",4),n.NdJ("click",function(){return s.onSignIn()}),n._uU(6," Sign In "),n.qZA(),n.qZA(),n.qZA()),2&t&&(n.xp6(3),n.Q6J("formGroup",s.form),n.xp6(2),n.Gre("bg-indigo-600 text-white p-2 ",s.form.valid?"cursor-pointer":"cursor-not-allowed",""))},directives:[H.t,a.JL,a.sg],styles:[""]}),r})();var ke=i(5598),Ie=i(5767),$e=i(2132);const Q=[{path:"",component:ee},{path:"",component:te,outlet:"topbar"},{path:"signup",component:h},{path:"signin",component:De},{path:"verify/:verification",component:(()=>{class r{constructor(t,s,o){this.actions=t,this.query=s,this.auth=o,this.params=this.query.selectParams()}ngOnInit(){console.log("In verify component"),this.params.pipe((0,ke.q)(1)).subscribe(t=>this.actions.dispatch((0,I.bX)(t)))}}return r.\u0275fac=function(t){return new(t||r)(n.Y36(C.eX),n.Y36($e.dt),n.Y36(Ie.e8))},r.\u0275cmp=n.Xpm({type:r,selectors:[["ng-component"]],decls:2,vars:0,template:function(t,s){1&t&&(n.TgZ(0,"p"),n._uU(1,"verify works!"),n.qZA())},styles:[""]}),r})()}];let Ue=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[[K.ez,a.UX,g.Bz.forChild(Q),C.cE.forFeature([I.ae]),_.W2]]}),r})()}}]);